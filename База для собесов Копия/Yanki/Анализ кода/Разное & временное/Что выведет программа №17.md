---
noteId: 1771135503398
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Горутина]]"
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Память в Go]]"
---

```go
package main

import (
	"fmt"
	"sync"
)

func main() {
	wg := new(sync.WaitGroup)

	for i := 0; i < 10; i++ {
		wg.Add(1)

		go func() {
			fmt.Println(i)
			wg.Done()
		}()
	}

	wg.Wait()
}
```

---

**До Go 1.22:**
Выведет кучу одинаковых чисел (скорее всего 10), так как `i` захватывается по ссылке и меняется.

**С Go 1.22+:**
Выведет числа от 0 до 9 в случайном порядке. Переменная цикла создается заново на каждой итерации.
