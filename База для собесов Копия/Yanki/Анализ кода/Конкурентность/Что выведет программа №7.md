---
noteId: 1771084279927
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Каналы]]"
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Планировщик]]"
---

```go
package main

import "fmt"

func main() {
	ch1 := make(chan int, 1)
	ch2 := make(chan int, 1)

	ch1 <- 1
	ch2 <- 2

	for i := 0; i < 5; i++ {
		select {
		case v := <-ch1:
			fmt.Print(v)
			ch1 <- 1
		case v := <-ch2:
			fmt.Print(v)
			ch2 <- 2
		}
	}
	fmt.Println()
}
```

---

**Недетерминированный** результат — может быть `11111`, `22222`, `12121`, `21212` и т.д. Когда несколько case в select готовы одновременно, Go случайным образом выбирает один из них.

До:     ch1: [1]  ch2: [2]
        ↓
Читаем: ch1: [ ]  ch2: [2]  (прочитали 1, канал опустел)
        ↓
Пишем:  ch1: [1]  ch2: [2]  (записали 1 обратно)