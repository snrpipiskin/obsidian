---
noteId: 1771082415832
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Работа с синхронизацией в Go (sync)]]"
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Горутина]]"
---

```go
package main

import (
    "fmt"
    "sync"
)

func main() {
    var max int

    for i := 1000; i > 0; i-- {
        go func() {
            if i%2 == 0 && i > max {
                max = i
            }
        }()
    }

    fmt.Printf("Maximum is %d", max)
}
```

---

```go
package main

import (
	"fmt"
	"sync"
)

func main() {
	var max int
	var wg sync.WaitGroup
	var mu sync.Mutex

	for i := 1000; i > 0; i-- {
		wg.Add(1)
		go func(val int) {
			defer wg.Done()
			if val%2 == 0 {
				mu.Lock()
				if val > max {
					max = val
				}
				mu.Unlock()
			}
		}(i)
	}

	wg.Wait()
	fmt.Printf("Maximum is %d\n", max)
}
```