---
noteId: 1743196627645
---


## **Масштабирование хранения и серверных ресурсов**

![[Untitled 3.png]]

## **Размер данных (Storage Scale)**

- **Character** = 1 Byte
    
- **Metadata** = 5-10 KB
    
- **1080p Image** = 2 MB
    
- **1080p Video (1 мин)** = 30 MB
    

## **Серверные мощности (Server Capacity)**

- **Disk Space** = 10 TB
    
- **RAM** = 256 - 512 GB
    

---

## **Пример нагрузки**

- **1B активных пользователей**
    
- **5B просмотров в день**
    
- **10M постов в день**
    

## **Анализ нагрузки**

### **Коэффициент Read/Write**

- 5B просмотров / 10M постов = **500:1**
    

### **RPS (Requests Per Second)**

- **Чтение:** 5B / (24×60×60) = **58k rps**
    
- **Запись:** 10M / (24×60×60) = **115 rps**
    

### **Хранение постов (Posts DB Storage)**

- 10KB * 10M = **100GB в день**
    
- 30 дней * 100GB = **3TB в месяц**
    

### **Пропускная способность (Трафик)**

- **Чтение:** 5B * 20 постов * 10KB = **1PB/day**
    
- **Запись:** 10M * 10KB = **100GB/day**
    

---

## **Что мы строим? (4 минуты)**

- Какую часть системы разрабатываем?
    
- Какие ключевые фишки важны?
    
- Глобальная или локальная система?
    

## **Оценка объема данных (3 минуты)**

- Сколько пользователей?
    
- Сколько создается контента (постов, сообщений)?
    
- Сколько подписок?
    

## **API и точки входа (3 минуты)**

- `**createPost()**` — content, user_id, group_id, image_url, location
    
- `**getNewsFeed(page_id)**` — список постов
    

## **Высокоуровневый дизайн (5 минут)**

Общий взгляд на архитектуру системы и её основные компоненты.

## **Детали компонентов (15 минут)**

Глубокий разбор каждого элемента архитектуры: базы данных, кеш, балансировка нагрузки.

## **Масштабируем систему (5 минут)**

Определение узких мест и возможных решений для горизонтального и вертикального масштабирования.

## **Итоговое обсуждение (5 минут)**

Подводим итоги, оцениваем все принятые решения.

---

![[image.png]]