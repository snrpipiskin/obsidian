---
noteId: 1743196643388
---

# –°—Ç—Ä–æ–∫–∏ –≤ Go

**String** ‚Äî —ç—Ç–æ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è (immutable) –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç–æ–≤. –í Go —Å—Ç—Ä–æ–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ **UTF-8**, –∞ —Å–∞–º–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∏ —è–≤–ª—è–µ—Ç—Å—è **—Å—Å—ã–ª–æ—á–Ω—ã–º —Ç–∏–ø–æ–º** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è –Ω–∞ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏).

## –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å (Immutability)**: –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–æ–∫—É –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å. –õ—é–±–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è (–∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è, –∑–∞–º–µ–Ω–∞ —Å–∏–º–≤–æ–ª–∞) —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ –ø–∞–º—è—Ç–∏.
- **–ù—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ `""`. –ú–∞—Å—Å–∏–≤–∞ –±–∞–π—Ç–æ–≤ –∑–∞ –Ω–µ–π –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –Ω–µ—Ç.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ë–ª–∞–≥–æ–¥–∞—Ä—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã ‚Äî –∏—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–µ–∂–¥—É [[obsidian/–ë–∞–∑–∞ –¥–ª—è —Å–æ–±–µ—Å–æ–≤ –ö–æ–ø–∏—è/–¢–µ–º—ã –∫ —Å–æ–±–µ—Å–∞–º/–ì–æ—Ä—É—Ç–∏–Ω–∞|–≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏]] –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: –°—Ç—Ä–æ–∫–∞ ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –±–∞–π—Ç–æ–≤, –∞ –Ω–µ —Å–∏–º–≤–æ–ª–æ–≤. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å Unicode (–º–Ω–æ–≥–æ–±–∞–π—Ç–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **—Ä—É–Ω—ã**.

---

## –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

–í —Ä–∞–Ω—Ç–∞–π–º–µ —Å—Ç—Ä–æ–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π `stringStruct`, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–Ω–∏–º–∞–µ—Ç –≤ –ø–∞–º—è—Ç–∏ **16 –±–∞–π—Ç** (–Ω–∞ 64-–±–∏—Ç–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ):

```go
type stringStruct struct {
    str unsafe.Pointer // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤ (data)
    len int            // –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –≤ –ë–ê–ô–¢–ê–•
}
```

- **Data**: –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –≥–¥–µ –ª–µ–∂–∞—Ç –±–∞–π—Ç—ã. –≠—Ç–∞ –æ–±–ª–∞—Å—Ç—å –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –∑–∞–ø–∏—Å–∏.
- **Len**: –ü–æ–ª–µ –¥–ª–∏–Ω—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `len()` —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞ $O(1)$. 

> [!warning]
> `len(s)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **–±–∞–π—Ç–æ–≤**, –∞ –Ω–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –î–ª—è —Å—Ç—Ä–æ–∫–∏ `"–ü—Ä–∏–≤–µ—Ç"` `len` –≤–µ—Ä–Ω–µ—Ç 12, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –∑–∞–Ω–∏–º–∞–µ—Ç 2 –±–∞–π—Ç–∞.

---

## –ë–∞–π—Ç—ã, –†—É–Ω—ã –∏ –Æ–Ω–∏–∫–æ–¥

### Rune (–†—É–Ω–∞)
**Rune** ‚Äî —ç—Ç–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º (alias) –¥–ª—è —Ç–∏–ø–∞ `int32`. –û–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–¥–∏–Ω –∫–æ–¥–æ–≤—ã–π –ø—É–Ω–∫—Ç (Code Point) –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ Unicode.

### –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–æ–∫–µ
–°–ø–æ—Å–æ–± –ø–µ—Ä–µ–±–æ—Ä–∞ —Å–∏–ª—å–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```go
s := "Hi üö¢"

// 1. –ü–æ–±–∞–π—Ç–æ–≤—ã–π –ø–µ—Ä–µ–±–æ—Ä (s[i] –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç uint8)
for i := 0; i < len(s); i++ {
    fmt.Printf("%x ", s[i]) // –í—ã–≤–µ–¥–µ—Ç HEX –±–∞–π—Ç–æ–≤
}

// 2. –ü–µ—Ä–µ–±–æ—Ä –ø–æ —Ä—É–Ω–∞–º (r –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç int32/rune)
for idx, r := range s {
    fmt.Printf("%d: %c ", idx, r) // –ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã–≤–µ–¥–µ—Ç —Å–∏–º–≤–æ–ª—ã
}
```
**–í–∞–∂–Ω–æ**: –í —Ü–∏–∫–ª–µ `range` –∏–Ω–¥–µ–∫—Å `idx` ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è –±–∞–π—Ç–∞ –¥–∞–Ω–Ω–æ–π —Ä—É–Ω—ã. –ï—Å–ª–∏ —Ä—É–Ω–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞, —Å–ª–µ–¥—É—é—â–∏–π –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç `idx + 4`.

---

## –û–ø—Ç–∏—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è
- **–û–ø–µ—Ä–∞—Ç–æ—Ä `+`**: –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫ –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑. –û–¥–Ω–∞–∫–æ –≤ —Ü–∏–∫–ª–µ —ç—Ç–æ –∫—Ä–∞–π–Ω–µ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ ($O(n^2)$), —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –Ω–æ–≤–∞—è –ø–∞–º—è—Ç—å.
- **strings.Builder**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å—Ç—Ä–æ–∫ –≤ —Ü–∏–∫–ª–µ.
  ```go
  var sb strings.Builder
  sb.Grow(100) // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–¥–µ–ª—è–µ–º –ø–∞–º—è—Ç—å
  for i := 0; i < 100; i++ {
      sb.WriteString("data")
  }
  result := sb.String()
  ```

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è `[]byte` <-> `string`
–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ `string([]byte)` –∏–ª–∏ `[]byte(string)` –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç **–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**.
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª—é—á–∏ –≤ `map[string]`) –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –≤–∏–¥–∏—Ç, —á—Ç–æ —Å–ª–∞–π—Å –±–∞–π—Ç –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.

---

## –°—Ä–µ–∑—ã –∏ –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

–°—Ä–µ–∑ —Å—Ç—Ä–æ–∫–∏ `s[1:5]` ‚Äî —ç—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `stringStruct`, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **—Ç–æ—Ç –∂–µ —Å–∞–º—ã–π** –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏.

### –û–ø–∞—Å–Ω–æ—Å—Ç—å Memory Leak
–ï—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –º–∞–ª–µ–Ω—å–∫—É—é –ø–æ–¥—Å—Ç—Ä–æ–∫—É –∏–∑ –æ–≥—Ä–æ–º–Ω–æ–≥–æ –ª–æ–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1 –ì–ë) –∏ —Ö—Ä–∞–Ω–∏—Ç–µ –µ—ë, —Ç–æ –≤–µ—Å—å –≥–∏–≥–∞–±–∞–π—Ç –±—É–¥–µ—Ç –≤–∏—Å–µ—Ç—å –≤ –ø–∞–º—è—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –ø–æ–¥—Å—Ç—Ä–æ–∫–∞ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –≤–µ—Å—å –±–∞–∑–æ–≤—ã–π –º–∞—Å—Å–∏–≤.

**–†–µ—à–µ–Ω–∏–µ**:
```go
// –°–¥–µ–ª–∞—Ç—å –∫–æ–ø–∏—é, —á—Ç–æ–±—ã –æ—Ç–ø—É—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–π –º–∞—Å—Å–∏–≤
newStr := strings.Clone(largeLog[:10]) 
// –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é: string([]byte(sub))
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
–°—Ç—Ä–æ–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è **–ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏** (–ø–æ–±–∞–π—Ç–æ–≤–æ).
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã: ` == `, `!=`, `<`, `>`, `<=`, `>=`.
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–Ω—Ç–∞–π–º —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `len`. –ï—Å–ª–∏ –¥–ª–∏–Ω—ã —Ä–∞–∑–Ω—ã–µ, —Å—Ç—Ä–æ–∫–∏ —Ç–æ—á–Ω–æ –Ω–µ —Ä–∞–≤–Ω—ã.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Go: Strings, bytes, runes and characters](https://go.dev/blog/strings)
- [ strings.Builder –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º](https://habr.com/ru/articles/911614/)


---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `utf8.RuneCountInString(s)` ‚Äî —á–µ—Å—Ç–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º–≤–æ–ª–æ–≤ ($O(n)$).
- `strings.TrimRight` ‚Äî —É–¥–∞–ª—è–µ—Ç **–Ω–∞–±–æ—Ä** —Å–∏–º–≤–æ–ª–æ–≤ (–±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã!).
- `strings.TrimSuffix` ‚Äî —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π **—Å—É—Ñ—Ñ–∏–∫—Å**.
