---
noteId: 1743196645573
---

![[Untitled 18.png]]

### **Общая схема проекта — как будет работать авторизация в [[Сети#**gRPC**|gRPC]]**

#### **Действующие лица:**

- **Пользователь (User)** — человек, который вынужден авторизовываться, т.к. он хочет воспользоваться нашим сервисом.
    
- **URL Shortener** — сервис, который будет клиентом SSO.
    
- **Сервер авторизации (SSO)** — сервис, который умеет авторизовывать, предоставлять информацию о правах пользователей и т.п.
    

#### **Как это будет работать:**

1. Пользователь (или используемое им приложение) отправляет запрос в SSO, чтобы получить JWT токен авторизации.
    
2. С этим токеном он идёт в URL Shortener, чтобы выполнять разные полезные запросы — создавать короткие ссылки, удалять их и т.п.
    
3. URL Shortener получает запрос от клиента, достаёт из него токен, по которому понимает кто пришел, и что ему разрешено делать.
    

## **Приступаем к разработке: описание контракта и генерация кода**

С чего начинается разработка любого gRPC сервиса?

Правильно, с написания proto-файла (Protocol Buffers, protobuf). Если вы не знакомы с этим форматом, то не пугайтесь, это просто описание API (контракта) нашего сервиса. Ближайшая аналогия из мира REST API — Swagger / OpenAPI.

![[Untitled 1 11.png]]