---
noteId: 1771131448061
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Массивы & Слайсы]]"
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Указатели в Go]]"
---

```go
package main

import "fmt"

func main() {
	numbers := []*int{}
	for i := 0; i < 5; i++ {
		numbers = append(numbers, &i)
	}

	for _, n := range numbers {
		fmt.Println(*n)
	}
}
```

---

До 1.22 – 5 5 5 5 5 (захват по ссылке) [Более вероятный вариант]
После 1.22 – 0 1 2 3 4 (захват по значению) [Менее вероятный вариант]

В Go 1.22 и новее цикл for-range захватывает переменную цикла по значению, а не по ссылке. Это означает, что каждая итерация получает свою копию переменной i, и все они будут иметь конечное значение 5.