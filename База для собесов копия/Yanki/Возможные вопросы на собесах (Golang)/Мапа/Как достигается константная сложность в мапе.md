---
noteId: 1743196508877
related: "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Мапа Go]]"
---
Как достигается константная сложность в мапе?

---

Встроенный в Go тип `map` обеспечивает **амортизированную** константную сложность операций чтения/записи благодаря следующим механизмам:

1. **Хэширование ключей**  
    Каждому ключу сопоставляется хэш-значение, которое указывает, в какую «корзину» (bucket) поместить пару (ключ-значение). Предполагается, что хорошая хэш-функция равномерно распределяет ключи по корзинам.
    
2. **Минимизация коллизий**  
    Если несколько ключей попадают в одну корзину (коллизия), Go использует внутреннюю структуру (обычно это массив из нескольких ячеек и дополнительные ссылки на «overflow»-корзины), чтобы хранить несколько пар в одном bucket. Благодаря распределению ключей и росту размера хэш-таблицы при увеличении числа элементов, большинство операций работают быстро, в среднем оставаясь в рамках O(1).
    
3. **Ресайз (динамическое расширение)**  
    Когда корзины начинают переполняться, Go автоматически расширяет хэш-таблицу с помощью [[#^59f9cf|load factor]] (увеличивает число корзин). Это позволяет уменьшить среднюю длину цепочек в корзинах и сохранить амортизированную константную сложность.