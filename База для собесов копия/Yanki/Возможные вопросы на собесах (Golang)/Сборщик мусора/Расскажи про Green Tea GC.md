---
noteId: 1770609441628
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Сборщик мусора (GC)]]"
---

Расскажи про Green Tea GC

---

**Green Tea GC** — это экспериментальный сборщик мусора в Go, представленный в версии 1.25. Он оптимизирует mark-фазу для лучшей работы с CPU-кэшами на многоядерных системах, снижая время GC на 10–40%.

## Как работает
- Переходит от object-centric сканирования (по указателям) к page-centric: обрабатывает память блоками (spans/pages), сохраняя пространственную локальность.
- Уменьшает cache misses и межъядерные переходы данных.
- Уже используется в production Google; планируется по умолчанию в Go 1.26 (с опцией `GOEXPERIMENT=nogreenteagc` для отключения).

## Активация
```bash
export GOEXPERIMENT=greenteagc
go build
```
Тестируйте на своих нагрузках — в некоторых сценариях выигрыш минимален. Официальный блог: [go.dev/blog/greenteagc](https://go.dev/blog/greenteagc).[6][1]

## Результаты
| Сценарий | Ускорение GC | Примечание |
|----------|--------------|------------|
| Средний  | ~10%        | Большинство бенчмарков [3] |
| Лучший   | до 40%      | Высокая нагрузка на память [1] |
| Худший   | 0–5%        | Низкая фрагментация [8] |
