---
noteId: 1743606034074
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Сборщик мусора (GC)]]"
---
Как GC выбирает объекты для удаления?

---

Go использует **трехуровневую систему разметки объектов**:

#### Пометка (Mark)

- GC **обходит корневые объекты** (глобальные переменные, активные стеки вызовов, объекты в регистрах) и **помечает** их как используемые.

#### Удаление (Sweep)

- Все **непомеченные** объекты считаются **мертвыми** и подлежат **освобождению**.
- Память, занимаемая этими объектами, **отмечается как доступная** для нового выделения.

#### Сжатие (Compact)

- Оставшиеся объекты **перемещаются** ближе друг к другу для **уменьшения фрагментации памяти**.