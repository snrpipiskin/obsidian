---
noteId: 1743606597519
related:
  - "[[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Сборщик мусора (GC)]]"
---

Какие есть рекомендации как упростить жизнь GC?

---

#### Избегать ненужных [[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Go Runtime#**Аллокатор памяти в Go**|аллокаций]] (escape analysis)

- Понимание того, когда **переменная** должна остаться в **стеке**, а не переходить в **кучу**, помогает уменьшить нагрузку на GC.

#### Ограничение количества горутин

- Ограничение числа **горутин** помогает избежать переполнения **стека** и большого потребления [[30 Interests/31 Programming/Go/База для собесов/Темы к собесам/Память в Go|памяти]], что снижает нагрузку на GC.
	- **Утечки памяти** — горутины, не завершающиеся корректно, могут удерживать ссылки на объекты, не давая GC их освободить.
	- **Выделение памяти для стеков** — если горутин слишком много, это может увеличивать общее потребление памяти, что повышает нагрузку на систему и косвенно на GC.
	- **Перемещение данных** — данные, передаваемые между горутинами, могут попадать в кучу, что снова становится объектом управления для GC.

#### Сокращение количества временных объектов

- Минимизировать создание временных объектов, которые быстро теряют свою актуальность. Меньше временных объектов — меньше работы для GC.

#### Регулирование GOGC

- Параметр **GOGC** контролирует частоту запуска GC. Оптимизация этого значения позволяет сбалансировать частоту сборки мусора и потребление памяти.