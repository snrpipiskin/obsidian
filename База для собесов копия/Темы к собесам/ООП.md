---
noteId: 1743196635884
---

## **Основные принципы ООП**

### **Наследование vs Композиция**

В Go **нет наследования** в классическом смысле (`extends`). Вместо этого используется **композиция** — объединение структур для повторного использования кода.

- **Композиция** → классы состоят из других структур (слабо связаны). Это позволяет изменять компоненты без затрагивания всей системы.
    
- **Наследование** → класс строится на основе родительского (сильно связан). В Go его заменяют встраиваемыми структурами.
    

**Пример композиции:**

```
type Engine struct {
    Power int
}

type Car struct {
    Engine  // Встраивание структуры Engine
    Model string
}

func main() {
    myCar := Car{Engine{200}, "Tesla"}
    fmt.Println(myCar.Model, "с мощностью", myCar.Power, "л.с.")
}
```

![[Untitled 10.png|Untitled 10.png]]

---

## **Полиморфизм**

Полиморфизм в Go достигается через **интерфейсы**. Функции работают не с конкретными структурами, а с **различными типами**, если они удовлетворяют интерфейсу.

**Пример интерфейса:**

```
type Instrument interface {
    Play()
}

type Guitar struct{}
func (g Guitar) Play() { fmt.Println("Playing the guitar!") }

type Flute struct{}
func (f Flute) Play() { fmt.Println("Playing the flute!") }

func playInstrument(i Instrument) {
    i.Play()
}

func main() {
    playInstrument(Guitar{})
    playInstrument(Flute{})
}
```

**Ключевые особенности полиморфизма в Go:**

- Не требует явного указания `implements`.
    
- Позволяет писать обобщенный код без привязки к конкретному типу.
    

![[Untitled 1 7.png|Untitled 1 7.png]]

---

## **Инкапсуляция**

**Сокрытие деталей** реализации с целью **упрощения** использования объекта.

- Реализуется **через регистр букв**:
    
    - **Заглавная буква** → публичный метод/поле, доступный за пределами пакета.
        
    - **Строчная буква** → приватный метод/поле, доступный только внутри пакета.
        

**Пример инкапсуляции:**

```
type Watch struct {
    hours   int
    minutes int
}

// Метод с заглавной буквы — доступен вне пакета
func (w *Watch) SetTime(h, m int) {
    w.hours = h % 24
    w.minutes = m % 60
}

// Метод возвращает отформатированное время
func (w *Watch) GetTime() string {
    return fmt.Sprintf("%02d:%02d", w.hours, w.minutes)
}
```

**Преимущества инкапсуляции:**

- Защита внутреннего состояния объекта.
    
- Ограничение доступа к данным.
    
- Четкое разделение внешнего и внутреннего API.
    

![[Untitled 3 3.png|Untitled 3 3.png]]